function setupMyCanvas(width_, height_, type, framerate){

  // detects keypresses
  window.addEventListener("keydown", function(e) {
    if(["Space","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(e.code) > -1) {
      e.preventDefault();
    }
  }, false);
  
  // ratio of width-height. Uses to scale everything onto a bigger screen without ruining the porportion
  var ratio = width_/height_;
    
  //finds the biggest scale factor for the window
	var sz = windowHeight;
	if(sz*ratio > windowWidth){
		sz = windowWidth*(height_/width_);
	}

  // create the canvas and position it
	var canvas = createCanvas(sz*ratio, sz, type);
	canvas.position((windowWidth-width)/2, (windowHeight-height)/2);
	canvas.id("myCanvas");
	scaleFactor = sz/height_;
	
  // other presets
	frameRate(framerate);
	angleMode(DEGREES);
	pixelDensity(2);
	
}

// turns a dataset into an image for textures
function imagify(dataset, sz){
  if(!sz){
    sz = 1;
  }
  var temp;
  var p = dataset.data;
  if(sz === 1){
    temp = createImage(dataset.width*sz, dataset.height*sz);
    temp.loadPixels();
    for(var i = 0; i < p.length; i += 4){
      temp.pixels[i] = p[i];
      temp.pixels[i+1] = p[i+1];
      temp.pixels[i+2] = p[i+2];
      temp.pixels[i+3] = 255;
    }
    temp.updatePixels();
  }else{
    temp = createGraphics(dataset.width*sz, dataset.height*sz);
    temp.noStroke();
    for (var x = 0; x < temp.width; x += sz) {
      for (var y = 0; y < temp.height; y += sz) {
        var idx = (y/sz * dataset.width + x/sz) * 4;
        temp.fill(color(p[idx], p[idx+1], p[idx+2]));
        temp.rect(x, y, sz, sz);
      }
    }
  }
  
  return temp;
}

var world = [];
var ms;
var gfx;
var displayFrameRate = 0;
var drawPlayer;

function setup() {
  setupMyCanvas(windowWidth, windowHeight, P2D, 60);
  ms = millis();
  gfx = createGraphics(windowWidth, windowHeight, WEBGL);
  gfx.angleMode(DEGREES);

  for(var x = 0; x < 5000; x += 200){
    for(var z = 0; z < 5000; z += 200){
      world.push({
        // x, y, z
        x: x,
        y: noise(x * 0.005, z * 0.005) * 1,
        z: z,
        // width, height, length
        w: 200,
        h: 200,
        l: 200,
        // type
        t: 1 + floor(random(0, 4)),
      });
      if(world[world.length - 1].t === 1){
        world[world.length - 1].y += 200;
      }
    }
  }
  //physics testing, dont remove yet
  world.push({
    // x, y, z
    x: 1000,
    y: 40,
    z: -200,
    // width, height, length
    w: 700,
    h: 200,
    l: 200,
    // type
    t: 1 + floor(random(0, 4)),
  });
  world.push({
    // x, y, z
    x: 1000,
    y: 80,
    z: -240,
    // width, height, length
    w: 700,
    h: 200,
    l: 200,
    // type
    t: 1 + floor(random(0, 4)),
  });
  world.push({
    // x, y, z
    x: 1000,
    y: 120,
    z: -280,
    // width, height, length
    w: 700,
    h: 200,
    l: 200,
    // type
    t: 1 + floor(random(0, 4)),
  });

  drawPlayer = function(x, y, z, s, spin, legMovement){
    gfx.push();
      gfx.translate(x, y + 75, z);
      gfx.scale(s);
      gfx.rotateY(180 + spin);
      gfx.rotateX(90);
      
      gfx.noStroke();
      
      gfx.push();
        gfx.fill(233, 150, 106);
        gfx.box(100, 100, 80);
        
        gfx.translate(0, 0, -50);
        gfx.fill(149, 100, 75);
        gfx.box(100, 100, 20);
        
        gfx.translate(0, 0, 190);
        gfx.fill(77, 80, 83);
        gfx.box(120, 60, 200);
        
        gfx.translate(0, 0, 130);
        gfx.fill(44, 46, 47);
        gfx.box(124, 64, 60);
      gfx.pop();
      
      gfx.push();
        gfx.translate(-80, -30, 105);
        gfx.rotateX(45);
        gfx.rotateY(10);
        gfx.fill(77, 80, 83);
        gfx.box(50, 50, 120);
      gfx.pop();
      gfx.push();
        gfx.translate(-70, -26, 120);
        gfx.rotateX(-45);
        gfx.rotateY(-10);
        gfx.translate(0, -60, -40);
        gfx.fill(77, 80, 83);
        gfx.box(50, 50, 100);
      gfx.pop();
      gfx.push();
        gfx.translate(-70, -26, 120);
        gfx.rotateX(-45);
        gfx.rotateY(-10);
        gfx.translate(0, -60, -100);
        gfx.fill(237, 247, 255);
        gfx.box(56, 56, 20);
      gfx.pop();
      gfx.push();
        gfx.translate(-70, -26, 120);
        gfx.rotateX(-45);
        gfx.rotateY(-10);
        gfx.translate(0, -60, -120);
        gfx.fill(255, 173, 122);
        gfx.box(50, 50, 20);
      gfx.pop();
      
      gfx.push();
        gfx.translate(80, -30, 105);
        gfx.rotateX(45);
        gfx.rotateY(-30);
        gfx.fill(77, 80, 83);
        gfx.box(50, 50, 120);
      gfx.pop();
      gfx.push();
        gfx.translate(37, -101, 146);
        gfx.rotateX(95);
        gfx.rotateY(-30);
        gfx.fill(77, 80, 83);
        gfx.box(50, 50, 100);
      gfx.pop();
      gfx.push();
        gfx.translate(37, -101, 146);
        gfx.rotateX(95);
        gfx.rotateY(-30);
        gfx.translate(0, 0, 60);
        gfx.fill(237, 247, 255);
        gfx.box(56, 56, 20);
      gfx.pop();
      gfx.push();
        gfx.translate(37, -101, 146);
        gfx.rotateX(95);
        gfx.rotateY(-30);
        gfx.translate(0, 0, 80);
        gfx.fill(255, 173, 122);
        gfx.box(50, 50, 20);
      gfx.pop();
      
      gfx.push();
        gfx.translate(-30, 0, 285);
        gfx.rotateX(legMovement);
        gfx.translate(0, 0, 75);
        
        gfx.fill(44, 46, 47);
        gfx.box(60, 50, 150);
        
        gfx.translate(0, 0, 100);
        gfx.fill(50, 53, 54);
        gfx.box(60, 50, 50);
      gfx.pop();
      
      gfx.push();
        gfx.translate(30, 0, 285);
        gfx.rotateX(-legMovement);
        gfx.translate(0, 0, 75);
        
        gfx.fill(44, 46, 47);
        gfx.box(60, 50, 150);
        
        gfx.translate(0, 0, 100);
        gfx.fill(50, 53, 54);
        gfx.box(60, 50, 50);
      gfx.pop();
      
    gfx.pop();
  };
  
}

var keys = [];
function keyPressed(){
  keys[keyCode] = true;
}
function keyReleased(){
  keys[keyCode] = false;
}

var player = {
  px: 1000,
  py: 600,
  pz: 0,
  x: 1000,
  y: 600,
  z: 0,
  xVel: 0,
  yVel: 0,
  zVel: 0,
  jumping: false,
  speed: 3.25,
  directionSpeed: 0,
  direction: 0,
  stepHeight: 40,
};

var tempRotX = 0;
var tempRotY = 0;
var msLag = 0;
var realFrameRate = 0;
var frameCountTimer = 0;

function box_boxColl(ax, ay, az, aw, ah, al, bx, by, bz, bw, bh, bl) {
  var a = {
    minX: ax - aw / 2,
    maxX: ax + aw / 2,
    minY: ay - ah / 2,
    maxY: ay + ah / 2,
    minZ: az - al / 2,
    maxZ: az + al / 2
  };
  
  var b = {
    minX: bx - bw / 2,
    maxX: bx + bw / 2,
    minY: by - bh / 2,
    maxY: by + bh / 2,
    minZ: bz - bl / 2,
    maxZ: bz + bl / 2
  };
   
  return (a.minX <= b.maxX && a.maxX >= b.minX) && (a.minY <= b.maxY && a.maxY >= b.minY) && (a.minZ <= b.maxZ && a.maxZ >= b.minZ);
}

var fly = false;

function move(){
  player.px = player.x;
  player.py = player.y;
  player.pz = player.z;


  if(keys[87] || keys[83] || keys[65] || keys[68]){
    if(!player.jumping) {
      player.xVel += (-sin(tempRotY + degrees(player.direction)) * player.directionSpeed * player.speed) / 5 * (40 / realFrameRate);
      player.zVel += (cos(tempRotY + degrees(player.direction)) * player.directionSpeed * player.speed) / 5 * (40 / realFrameRate);
    }else {
      player.xVel += (-sin(tempRotY + degrees(player.direction)) * player.directionSpeed * player.speed) / 20 * (40 / realFrameRate);
      player.zVel += (cos(tempRotY + degrees(player.direction)) * player.directionSpeed * player.speed) / 20 * (40 / realFrameRate);
    }
  }
  if(keys[87] && keys[65]) {
    if(!fly){player.directionSpeed = 3*(2/3);}
    else{player.directionSpeed = 9*(2/3);}
    player.direction = 0.25*PI;
  }else 
  if(keys[87] && keys[68]) {
    if(!fly){player.directionSpeed = 3*(2/3);}
    else{player.directionSpeed = 9*(2/3);}
    player.direction = 1.75*PI;
  }else 
  if(keys[83] && keys[65]) {
    if(!fly){player.directionSpeed = 3*(1/2);}
    else{player.directionSpeed = 9*(1/2);}
    player.direction = 0.75*PI;
  }else 
  if(keys[83] && keys[68]) {
    if(!fly){player.directionSpeed = 3*(1/2);}
    else{player.directionSpeed = 9*(1/2);}
    player.direction = 1.25*PI;
  }else 
  if(keys[87]) {
    player.direction = 0;
    if(!fly){player.directionSpeed = 3;}
    else{player.directionSpeed = 9;}
  }else
  if(keys[83]) {
    if(!fly){player.directionSpeed = 3*(1/2);}
    else{player.directionSpeed = 9*(1/2);}
    player.direction = PI;
  }else
  if(keys[65]) {
    if(!fly){player.directionSpeed = 3*(2/3);}
    else{player.directionSpeed = 9*(2/3);}
    player.direction = PI/2;
  }else
  if(keys[68]) {
    if(!fly){player.directionSpeed = 3*(2/3);}
    else{player.directionSpeed = 9*(2/3);}
    player.direction = 1.5*PI;
  }else {
    player.directionSpeed = 0;
  }

  //Move Up
  if(keys[32] && !player.jumping && !fly){
    player.yVel = 25;
    player.jumping = true;
  }
  if(player.jumping){
      player.speed = 1
  }else{
      player.speed = 3.25
  }
  if(keys[32] && fly){
    player.yVel = 22 * (40 / realFrameRate);
  }else if(keys[16] && fly){
    player.yVel = -22 * (40 / realFrameRate);
  }else if(fly){
      player.yVel = 0
  }
  if(!fly){
    player.yVel -= 1;
  }
   //THIS IS GRAVITY
  player.y += player.yVel;

  if(!player.jumping) {
    player.zVel *= 0.9;
    player.xVel *= 0.9;
  }else {
    player.zVel *= 0.98;
    player.xVel *= 0.98;
  }

  player.x += player.xVel;
  player.z += player.zVel;

}

//PLEASE DO NOT MESS UP THIS CODE IT TOOK ME SO LONG
function collisions(){
  player.jumping = true;
  for(var i = 0; i < world.length; i++){
    var block = world[i];
    
    // y collisions
    if(box_boxColl(
      player.x, player.y + 100, player.z, 100, 2 * abs(player.yVel) + 1, 100,
      block.x, block.y - block.h / 2 - player.yVel / 2, block.z, block.w - 1, abs(player.yVel), block.l - 1
    )){
      player.y = block.y - block.h / 2 - 105;
      player.py = player.y;
      player.yVel = 0;
      
    }else if(box_boxColl(
      player.x, player.y - 100 + player.stepHeight / 2, player.z, 100, player.stepHeight, 100,
      block.x, block.y + block.h / 2, block.z, block.w + 2, abs(player.yVel), block.l + 2
    ) && !player.jumping){
      player.y = block.y + block.h / 2 + 101;
      player.py = player.y;
      player.yVel = 0;
      player.jumping = false;
    }else if(box_boxColl(
      player.x, player.y - 100, player.z, 100, 2 * -player.yVel + 1, 100,
      block.x, block.y + block.h / 2 - player.yVel / 2, block.z, block.w - 1, abs(player.yVel), block.l - 1
    ) && player.jumping) {
      player.y = block.y + block.h / 2 + 101;
      player.py = player.y;
      player.yVel = 0;
      player.jumping = false;
    }

    //x collisions
    if(player.jumping) {
      if(box_boxColl(
        player.x + 50, player.y, player.z, 2 * abs(player.xVel) + 1, 200, 100,
        block.x - block.w / 2 - player.xVel / 2, block.y, block.z, abs(player.xVel), block.h - 1, block.l - 1
      )){
        player.x = block.x - block.w / 2 - 50 - abs(player.xVel);
        player.xVel = 0;
        player.px = player.x;
        
      }else if(box_boxColl(
        player.x - 50, player.y, player.z, 2 * abs(player.xVel) + 1, 200, 100,
        block.x + block.w / 2 - player.xVel / 2, block.y, block.z, abs(player.xVel), block.h - 1, block.l - 1
      )){
        player.x = block.x + block.w / 2 + 50 + abs(player.xVel);
        player.xVel = 0;
        player.px = player.x;
        
      }
    }else {
      if(box_boxColl(
        player.x + 50, player.y + player.stepHeight / 2, player.z, 2 * abs(player.xVel) + 1, 200 - player.stepHeight, 100,
        block.x - block.w / 2 - player.xVel / 2, block.y, block.z, abs(player.xVel), block.h - 1, block.l - 1
      )){
        player.x = block.x - block.w / 2 - 50 - abs(player.xVel);
        player.xVel = 0;
        player.px = player.x;
        
      }else if(box_boxColl(
        player.x - 50, player.y + player.stepHeight / 2, player.z, 2 * abs(player.xVel) + 1, 200 - player.stepHeight, 100,
        block.x + block.w / 2 - player.xVel / 2, block.y, block.z, abs(player.xVel), block.h - 1, block.l - 1
      )){
        player.x = block.x + block.w / 2 + 50 + abs(player.xVel);
        player.xVel = 0;
        player.px = player.x;
        
      }
    }

    //z collisions
    if(player.jumping) {
      if(box_boxColl(
        player.x, player.y, player.z + 50, 100, 200, 2 * abs(player.zVel) + 1,
        block.x, block.y, block.z - block.l / 2 - player.zVel / 2, block.w - 1, block.h - 1, abs(player.zVel)
      )){
        player.z = block.z - block.l / 2 - 50 - abs(player.zVel);
        player.zVel = 0;
        player.pz = player.z;
        
      }else if(box_boxColl(
        player.x, player.y, player.z - 50, 100, 200, 2 * abs(player.zVel) + 1,
        block.x, block.y, block.z + block.l / 2 - player.zVel / 2, block.w - 1, block.h - 1, abs(player.zVel)
      )){
        player.z = block.z + block.l / 2 + 50 + abs(player.zVel);
        player.zVel = 0;
        player.pz = player.z;
        
      }
    }else {
      if(box_boxColl(
        player.x, player.y + player.stepHeight / 2, player.z + 50, 100, 200 - player.stepHeight, 2 * abs(player.zVel) + 1,
        block.x, block.y, block.z - block.l / 2 - player.zVel / 2, block.w - 1, block.h - 1, abs(player.zVel)
      )){
        player.z = block.z - block.l / 2 - 50 - abs(player.zVel);
        player.zVel = 0;
        player.pz = player.z;
        
      }else if(box_boxColl(
        player.x, player.y + player.stepHeight / 2, player.z - 50, 100, 200 - player. stepHeight, 2 * abs(player.zVel) + 1,
        block.x, block.y, block.z + block.l / 2 - player.zVel / 2, block.w - 1, block.h - 1, abs(player.zVel)
      )){
        player.z = block.z + block.l / 2 + 50 + abs(player.zVel);
        player.zVel = 0;
        player.pz = player.z;
        
      }
    }
    }

  }


function drawKrunkerLogo(x, y, s){
  push();
    translate(x, y);
    scale(s);
    translate(-205, 0);
    
    var a = fill;
    var b = beginShape;
    var c = vertex;
    var d = bezierVertex;
    var e = endShape;
    
    noStroke();a(20,20,18);b();c(145,101);c(142,96);c(136,96);c(131,96);c(127,91);c(123,85);c(119,86);d(116,86,115,86,115,85);c(114,84);c(104,85);d(98,85,91,86,88,86);c(83,86);c(80,83);c(77,81);c(78,82);d(78,86,79,91,79,93);c(79,94);c(69,95);d(63,95,58,96,58,96);d(58,96,55,94,52,91);d(49,88,47,86,47,87);d(47,87,47,90,48,93);d(48,95,48,98,48,98);d(48,98,47,98,47,98);d(44,97,44,97,44,100);c(44,103);c(35,104);d(30,105,25,105,25,105);d(25,105,8,95,8,94);d(8,94,7,91,5,63);d(4,50,3,39,3,38);d(2,37,3,37,4,35);d(5,34,6,33,6,33);d(6,33,5,32,4,32);d(3,31,2,31,2,31);d(2,31,1,26,1,20);d(0,14,0,10,0,10);d(1,10,2,10,3,9);d(5,9,13,9,22,8);d(38,6,52,5,69,4);c(78,4);c(80,5);d(81,6,82,6,82,6);d(82,6,83,6,83,5);c(84,3);c(89,3);d(92,3,97,3,101,2);d(121,1,155,0,185,0);c(202,0);c(204,1);d(206,3,207,4,207,4);d(208,4,209,3,210,1);c(212,0);c(226,0);d(273,1,307,2,350,5);d(360,6,386,8,390,9);c(392,9);c(394,12);d(395,14,396,16,396,16);d(396,16,398,14,399,13);c(401,10);c(405,10);d(407,10,409,10,409,11);d(409,11,410,10,404,60);d(403,70,402,82,401,87);c(401,96);c(393,100);c(385,105);c(373,104);d(367,103,362,103,362,103);d(362,103,362,99,362,96);d(363,92,363,88,363,87);c(363,86);c(360,89);d(358,91,356,92,356,92);d(356,92,355,92,354,91);d(353,91,352,90,352,90);d(351,90,350,91,348,93);c(345,95);c(338,94);d(334,94,331,93,331,93);d(331,93,331,91,331,88);d(332,85,332,82,332,82);d(332,82,331,82,329,84);c(327,86);c(317,86);d(311,85,304,85,301,84);d(296,84,296,84,295,85);d(295,86,294,86,291,86);c(287,85);c(283,91);c(280,96);c(275,96);c(269,96);c(266,101);c(262,106);c(241,106);d(225,106,221,106,221,105);d(221,105,222,105,223,105);d(225,104,226,103,226,100);d(226,99,226,98,227,98);d(227,98,227,97,227,97);d(226,96,226,95,226,92);d(226,91,226,88,227,87);d(227,86,227,84,227,82);d(227,79,227,79,226,78);d(225,76,225,75,226,73);d(226,72,227,72,226,72);d(226,72,224,68,224,67);d(224,66,223,65,223,65);d(222,64,222,64,226,64);c(229,64);c(229,34);c(229,4);c(221,4);c(213,4);c(210,6);d(209,7,208,8,207,8);d(207,8,206,7,204,6);c(202,4);c(191,4);c(180,4);c(180,34);d(180,53,180,64,181,64);d(181,64,181,64,180,66);d(177,70,177,69,180,69);d(182,69,182,69,182,70);d(182,70,183,72,183,74);d(184,76,185,77,185,78);d(185,83,183,85,182,82);d(181,81,181,81,178,81);d(167,81,130,82,130,83);d(130,83,131,85,132,86);c(134,90);c(141,89);d(145,89,154,89,162,89);d(176,89,177,89,177,89);d(177,91,176,91,171,92);c(166,92);c(164,93);d(163,94,161,95,161,95);d(160,95,158,94,156,94);d(154,93,152,92,151,92);d(148,92,148,93,150,96);c(152,100);c(163,99);d(169,99,174,99,175,99);d(176,99,176,98,178,95);d(179,93,180,91,180,91);d(181,91,183,95,183,96);d(183,96,183,97,184,98);d(185,99,186,100,186,100);d(186,100,186,101,187,102);d(190,106,192,106,169,106);c(149,106);c(145,101);e(2);b();c(250,98);d(252,97,252,97,255,98);d(256,99,258,99,258,99);d(259,99,262,93,262,92);d(262,92,244,92,237,92);c(232,92);c(233,95);c(235,99);c(242,99);d(248,99,248,99,250,98);e(2);b();c(396,90);d(396,89,398,70,399,61);d(399,57,399,54,399,54);d(399,54,396,54,393,53);d(390,53,388,53,388,53);d(387,52,388,45,388,45);d(389,44,390,44,394,45);d(397,45,400,45,400,45);d(400,45,403,21,403,17);c(403,14);c(402,14);d(401,14,400,15,398,17);d(397,18,396,20,396,20);d(395,20,394,18,393,16);d(391,13,391,13,390,13);d(389,13,379,12,369,11);d(358,10,349,9,349,9);d(349,9,348,16,346,35);d(345,43,344,53,343,58);d(342,72,341,76,342,76);d(342,77,343,77,346,77);c(349,77);c(352,75);d(353,74,355,74,355,74);d(355,74,356,74,357,75);d(358,75,359,76,359,75);d(359,75,362,56,362,55);d(362,54,362,54,363,54);d(365,54,381,56,381,56);d(381,56,380,63,380,71);d(379,79,378,86,378,87);d(378,89,377,88,388,89);d(392,90,395,90,395,90);d(395,90,396,90,396,90);e(2);b();c(278,86);c(281,83);c(277,83);d(273,82,256,82,240,81);c(230,81);c(229,83);c(228,85);c(229,87);c(230,89);c(245,89);d(253,89,263,89,267,90);d(270,90,274,90,275,90);d(275,90,276,89,278,86);e(2);b();c(20,89);d(27,88,26,89,26,85);c(26,83);c(28,83);d(29,83,30,83,30,83);d(31,84,31,83,31,75);d(29,63,29,56,29,55);d(30,55,48,53,48,53);d(48,53,48,55,49,56);c(49,58);c(51,59);d(53,60,53,61,51,62);d(49,63,49,63,49,64);d(49,65,50,69,50,72);d(50,75,51,78,51,78);d(51,78,55,78,59,78);d(68,77,68,77,68,76);d(68,75,66,54,66,50);d(65,49,65,47,65,47);d(65,47,62,47,59,48);d(56,48,53,48,53,48);d(53,48,52,38,52,38);d(52,38,55,37,58,37);d(61,37,64,36,64,36);d(65,36,63,10,63,10);d(63,10,58,10,54,10);c(45,11);c(45,12);d(45,16,47,39,47,39);d(47,39,28,41,28,41);d(28,41,27,35,26,28);d(25,12,25,13,24,13);d(23,13,19,13,15,13);c(7,14);c(7,15);d(7,16,7,19,8,23);d(8,26,8,28,8,29);d(8,29,9,29,10,30);d(11,30,13,31,13,31);d(13,31,12,33,11,34);c(9,36);c(10,52);d(11,61,12,73,13,78);d(14,89,14,90,14,90);d(15,90,17,89,20,89);e(2);b();c(143,79);c(157,79);c(160,77);c(163,76);c(165,77);d(167,78,167,78,173,78);c(180,78);c(177,74);d(176,72,176,70,176,70);d(176,69,175,69,175,69);d(173,68,173,68,174,69);d(176,71,175,71,159,71);d(143,72,115,73,114,73);d(113,74,114,75,116,77);c(118,80);c(124,80);d(127,80,136,79,143,79);e(2);b();c(294,77);d(296,75,297,74,296,73);d(296,73,290,73,284,73);c(272,72);c(269,73);d(268,74,266,74,266,74);d(266,74,264,74,263,73);d(260,72,260,72,255,71);d(252,71,246,71,242,71);c(235,71);c(233,74);d(232,76,232,78,232,78);d(232,78,240,78,251,79);d(261,79,273,79,277,80);d(280,80,285,80,288,80);c(292,80);c(294,77);e(2);b();c(337,61);d(337,58,337,55,337,54);d(337,54,332,54,325,54);d(318,53,310,53,308,52);c(305,52);c(305,48);d(305,46,305,44,306,44);d(306,44,311,44,317,45);d(323,45,329,46,330,46);c(332,46);c(333,39);d(333,35,333,32,333,32);d(333,32,327,31,320,31);c(307,30);c(307,26);d(307,24,307,22,307,22);d(307,21,310,22,313,22);c(320,22);c(321,21);d(322,20,323,20,323,20);d(324,20,325,20,326,21);c(328,23);c(334,23);d(338,23,339,23,340,23);d(340,23,340,20,340,17);d(340,14,340,11,341,10);d(341,9,341,9,339,9);d(338,9,321,8,304,7);d(291,6,292,6,292,8);d(292,10,291,17,290,34);d(290,41,289,48,289,49);c(289,51);c(291,52);d(293,53,294,54,294,54);d(294,55,292,56,291,57);d(289,59,288,59,288,64);c(288,65);c(292,66);d(309,67,337,68,337,68);d(337,68,337,65,337,61);e(2);b();c(88,68);d(89,67,89,67,89,64);d(88,61,88,60,87,59);d(85,58,85,57,87,56);d(88,55,88,55,88,52);c(88,50);c(96,49);d(101,49,105,49,105,49);d(105,49,105,53,105,58);d(106,62,106,66,106,66);d(107,67,121,66,121,66);d(122,66,121,58,120,48);c(120,44);c(118,44);d(117,44,114,44,112,44);c(108,44);c(108,40);d(108,37,108,35,108,35);d(108,35,110,35,113,35);d(115,35,118,35,118,34);c(120,34);c(119,31);d(119,30,119,25,119,20);d(119,16,118,11,118,9);c(118,6);c(115,7);d(114,7,107,7,99,8);d(92,8,86,8,85,8);d(85,8,84,9,83,10);d(83,11,82,12,82,12);d(81,12,80,12,79,11);c(76,9);c(73,9);c(69,9);c(70,11);d(70,13,70,17,70,21);d(71,29,72,55,73,63);c(73,68);c(80,68);d(84,68,87,68,88,68);e(2);b();c(138,65);c(143,65);c(145,62);d(146,60,147,59,147,59);d(148,59,148,60,149,62);c(151,64);c(158,64);d(162,64,168,64,171,64);c(176,63);c(175,59);d(175,56,175,43,174,29);d(174,16,174,5,173,5);d(173,5,170,5,166,5);c(158,5);c(158,10);d(159,22,159,50,159,50);d(159,50,155,50,150,50);c(142,50);c(142,43);d(141,30,141,11,141,8);c(141,6);c(133,6);d(129,6,126,6,126,6);d(125,6,125,9,126,23);d(126,33,126,45,127,50);d(127,54,127,60,127,62);c(127,65);c(130,65);d(131,65,135,65,138,65);e(2);b();c(283,65);d(283,65,284,38,284,38);d(284,37,281,37,278,37);d(275,37,272,37,272,37);d(272,37,272,35,272,32);c(272,28);c(278,28);c(284,28);c(284,25);d(284,23,284,18,285,14);c(285,6);c(283,6);d(281,6,278,6,275,6);c(269,6);c(269,9);d(269,11,269,16,268,20);c(268,28);c(263,28);d(260,28,257,28,255,28);c(251,27);c(252,16);c(252,5);c(244,5);d(240,4,237,4,236,4);d(236,5,234,57,234,62);c(234,64);c(237,64);d(240,64,240,64,241,63);d(242,62,243,61,243,61);d(243,61,244,62,245,63);d(246,63,247,64,248,64);c(250,64);c(250,59);d(250,56,250,51,251,48);c(251,42);c(256,42);d(260,42,263,42,265,43);c(268,43);c(268,46);d(268,48,267,53,267,57);c(267,65);c(270,65);d(273,65,283,65,283,65);e(2);b();c(372,43);d(368,43,364,42,364,42);d(363,42,363,42,363,41);d(363,40,364,36,364,32);d(365,27,365,25,365,25);d(366,25,384,27,384,27);d(384,27,384,35,383,42);c(383,44);c(380,44);d(379,44,375,43,372,43);e(2);b();c(87,37);d(87,36,86,23,86,23);d(86,22,88,22,89,22);c(92,22);c(93,20);d(95,17,95,17,97,20);c(98,22);c(100,22);c(103,22);c(103,28);d(104,31,104,34,104,35);c(104,36);c(96,37);d(92,37,89,37,88,37);d(87,38,87,37,87,37);e(2);b();c(196,28);c(196,18);c(205,18);c(214,18);c(213,19);d(213,20,213,23,213,27);c(213,34);c(212,34);d(211,34,210,34,209,33);d(207,31,207,31,207,30);d(206,26,205,23,205,23);d(204,23,203,26,203,29);d(203,33,203,33,201,34);d(200,34,198,36,198,37);d(198,37,197,37,197,37);d(196,37,196,36,196,28);e(2);a(28,37,15);b();c(188,105);d(188,104,186,101,184,99);d(183,98,183,98,183,98);d(183,98,185,98,187,98);d(190,98,191,98,191,99);d(192,100,193,104,193,105);d(193,106,192,106,191,106);d(189,106,188,106,188,105);e(2);b();c(218,106);d(218,105,219,104,220,102);d(221,101,222,99,222,99);d(222,98,223,98,225,98);c(227,98);c(227,99);d(226,100,226,101,227,102);d(227,103,225,105,223,105);d(222,105,221,105,221,106);d(221,106,218,106,218,106);e(2);b();c(181,94);d(181,93,180,92,180,92);d(180,92,179,92,177,92);c(175,92);c(176,91);d(176,90,176,89,176,89);d(176,89,177,89,178,89);c(181,89);c(182,87);d(182,86,183,84,182,84);d(182,84,182,83,183,83);d(183,83,184,80,184,79);d(184,78,184,77,185,77);d(185,77,188,84,188,85);d(188,86,183,97,183,97);d(183,97,182,96,181,94);e(2);b();c(225,92);d(225,91,224,90,225,86);d(225,83,225,82,224,81);d(224,81,224,80,224,80);d(224,79,225,75,225,75);d(226,75,226,76,227,77);d(228,79,228,79,227,83);d(227,85,227,87,227,88);d(227,88,226,94,226,94);d(226,94,225,93,225,92);e(2);b();c(182,72);d(182,71,182,71,182,70);d(182,70,181,70,179,70);d(178,70,176,70,176,70);d(176,70,176,70,176,71);d(176,71,176,71,175,71);d(174,71,173,71,173,71);d(173,71,173,70,174,70);d(174,70,174,70,173,68);d(171,66,170,65,172,67);d(173,67,174,68,175,68);c(177,69);c(178,68);d(179,66,181,64,180,64);d(180,64,183,64,187,64);d(195,64,195,63,193,68);c(192,71);c(190,72);d(189,72,187,72,185,72);d(183,72,182,72,182,72);e(2);b();c(222,72);d(221,71,219,71,219,71);d(219,71,219,70,218,69);d(218,68,218,66,218,66);d(217,65,217,64,217,64);d(217,64,219,64,220,64);d(222,64,223,64,223,64);d(223,64,223,64,223,65);d(224,65,224,66,224,66);d(224,67,225,68,226,70);c(227,72);c(226,72);d(225,72,223,72,222,72);e(2);b();c(196,43);d(196,40,196,36,197,37);d(197,37,197,36,197,36);d(197,36,199,34,200,34);d(200,34,201,33,201,33);d(201,33,202,33,202,32);d(203,32,203,33,203,36);d(203,39,203,40,203,40);d(202,40,202,40,202,40);d(202,41,201,41,200,41);d(200,41,199,42,198,43);d(197,44,196,44,196,43);e(2);a(39,58,14);b();c(199,112);d(195,107,194,106,194,106);d(193,106,193,106,192,104);d(192,101,191,100,190,99);d(190,98,190,98,191,98);d(192,98,193,98,193,99);d(193,100,194,101,196,103);d(197,105,198,106,199,108);d(200,110,201,112,201,113);d(202,113,203,117,203,117);d(203,118,201,116,199,112);e(2);b();c(213,108);d(213,107,213,106,214,104);d(214,103,215,101,215,100);d(215,99,215,99,217,99);d(217,98,219,98,220,98);c(223,98);c(222,99);d(222,100,221,102,220,103);c(219,106);c(217,106);d(216,106,215,106,215,106);d(215,106,214,107,214,108);c(213,109);c(213,108);e(2);b();c(224,91);c(222,87);c(221,88);d(221,89,220,90,220,90);d(220,90,220,89,220,86);d(220,84,219,82,219,81);d(219,80,219,80,220,80);d(220,80,221,81,221,81);c(222,83);c(222,81);d(223,80,223,79,223,79);d(224,79,224,80,224,81);d(225,82,225,83,225,87);d(225,90,225,91,226,92);d(226,94,227,95,226,95);d(226,95,225,93,224,91);e(2);b();c(196,54);d(196,53,196,53,196,52);d(196,52,195,51,195,50);d(194,50,193,49,193,49);d(193,48,194,47,195,46);d(195,44,196,43,196,43);d(196,43,196,43,196,43);d(197,43,197,43,198,42);d(199,41,199,41,200,41);d(200,41,201,40,201,40);d(201,40,202,40,202,39);d(203,39,203,39,203,42);d(202,48,202,49,202,49);d(200,49,198,52,198,54);d(198,55,196,55,196,54);e(2);b();c(210,50);d(209,49,208,49,208,49);d(207,49,206,46,206,40);d(207,37,207,35,207,34);d(207,34,209,34,210,34);c(213,34);c(213,41);d(213,46,213,50,213,51);d(213,52,212,52,210,50);e(2);a(52,82,12);b();c(203,119);d(202,117,202,117,203,117);d(205,117,205,117,205,116);d(205,115,207,112,208,110);d(209,108,210,105,210,104);d(211,103,212,100,213,97);d(215,93,216,92,216,90);d(216,88,216,85,216,84);d(217,81,217,80,217,77);d(216,73,217,73,219,77);d(220,80,221,81,220,80);d(220,80,219,81,220,81);d(220,82,220,84,220,86);d(220,88,220,89,220,89);d(221,88,221,90,218,95);d(216,98,215,101,215,101);d(215,102,215,102,215,103);d(214,104,214,105,214,107);d(213,108,213,110,209,115);d(207,118,205,121,205,121);d(205,121,204,120,203,119);e(2);b();c(195,104);d(194,102,193,100,192,99);d(192,98,192,98,193,98);d(193,98,192,96,190,92);d(188,88,188,87,188,85);d(188,83,190,78,191,78);d(191,78,192,78,192,78);d(192,78,192,80,192,82);d(192,88,193,92,196,99);d(198,102,198,103,198,105);c(198,107);c(195,104);e(2);b();c(191,71);d(192,71,192,70,192,70);d(192,69,192,68,193,67);d(193,66,194,64,193,64);d(193,64,194,63,195,62);d(196,60,196,59,196,57);d(196,54,196,54,197,54);d(197,54,197,54,197,53);d(197,53,197,52,198,52);d(198,50,201,48,202,48);d(202,48,202,48,202,47);d(202,47,202,46,202,46);d(203,46,203,47,203,50);c(203,55);c(201,56);d(201,57,200,58,200,59);d(200,59,199,60,199,60);d(199,60,199,60,199,60);d(199,61,196,67,196,67);d(195,67,195,68,195,69);d(194,71,193,72,192,72);d(191,72,191,71,191,71);e(2);b();c(215,71);d(214,71,214,70,213,69);d(213,67,212,66,212,66);d(212,66,212,66,212,66);d(212,66,211,64,210,62);d(208,59,207,58,207,56);d(207,52,207,47,207,47);d(207,47,208,48,208,48);d(208,49,208,49,208,48);d(208,48,209,48,210,50);d(212,52,212,52,213,54);d(213,55,213,57,213,58);d(213,60,216,64,217,64);d(218,64,218,64,218,64);d(218,64,218,64,218,65);d(218,65,219,67,219,68);d(219,69,219,70,220,71);d(220,71,219,71,217,71);d(216,71,215,71,215,71);e(2);b();c(205,41);d(205,41,205,38,205,36);d(205,34,205,32,205,32);d(204,32,204,33,204,35);d(204,37,204,37,204,37);d(202,37,202,27,204,23);d(205,21,205,21,206,23);d(206,23,206,24,206,25);d(207,26,207,28,207,29);d(207,31,207,31,209,32);d(210,33,211,34,211,34);d(211,34,210,34,209,34);d(208,34,207,34,207,35);d(207,35,207,37,207,39);d(207,41,206,42,206,42);d(206,42,206,42,205,41);e(2);a(65,107,11);b();c(203,118);d(203,118,202,117,202,116);d(202,115,201,114,201,113);d(199,110,198,108,198,105);d(198,104,197,102,196,99);d(192,91,191,87,191,79);d(191,78,191,78,191,79);d(190,79,190,78,192,75);d(193,73,193,71,193,71);d(193,71,193,71,193,71);d(194,70,194,70,194,69);d(195,68,195,67,195,67);d(196,66,198,60,198,60);d(198,60,198,60,199,60);d(199,60,199,59,199,58);d(200,57,201,55,202,55);d(203,54,203,54,202,60);c(202,67);c(200,72);d(198,75,196,79,195,81);c(193,85);c(198,95);c(203,104);c(203,108);d(203,110,203,111,204,112);d(204,112,204,113,204,113);d(204,114,205,115,205,115);d(205,115,205,115,205,114);d(205,113,205,113,206,112);d(206,112,206,111,207,108);c(207,104);c(211,95);d(213,91,215,87,216,87);d(216,87,216,89,216,92);d(216,92,215,95,214,98);d(212,100,211,103,211,104);d(210,105,209,108,208,110);d(207,113,206,115,205,116);d(205,118,205,118,203,118);e(2);b();c(214,82);d(213,80,213,79,213,76);d(212,73,212,71,211,68);d(210,67,210,65,210,64);c(209,61);c(210,62);d(211,63,211,64,212,65);d(212,65,212,66,212,66);d(212,66,213,67,214,68);d(214,69,215,70,215,71);d(216,71,217,73,217,75);d(217,81,217,84,216,84);d(216,84,215,83,214,82);e(2);a(81,140,8);b();c(210,72);c(207,67);c(207,60);d(207,53,207,51,208,56);d(208,57,208,59,209,60);d(209,61,210,63,210,64);d(210,65,211,67,211,68);d(211,69,212,70,212,71);d(213,73,213,78,213,78);d(213,78,211,75,210,72);e(2);a(97,114,76);b();c(214,61);d(213,60,213,59,213,57);d(212,55,212,53,212,53);d(212,52,212,44,213,35);d(213,27,213,19,213,19);d(213,19,214,24,214,31);d(214,43,214,52,215,59);d(215,61,215,62,215,62);d(215,63,214,62,214,61);e(2);a(156,106,44);b();c(149,96);d(148,94,147,93,147,92);d(147,92,148,92,149,92);d(150,92,151,92,151,94);d(152,96,154,96,160,96);d(162,96,167,97,169,97);c(174,97);c(176,95);d(178,93,179,92,179,93);d(179,93,178,94,178,96);d(176,99,176,99,175,99);d(174,99,169,100,163,100);c(152,100);c(149,96);e(2);b();c(255,99);c(252,97);c(250,99);d(248,99,248,100,242,100);c(235,100);c(233,95);c(231,91);c(233,91);c(235,91);c(236,94);c(237,98);c(241,98);d(244,98,245,97,247,96);d(248,96,249,95,249,95);d(250,94,252,94,257,96);c(259,96);c(260,95);d(262,92,262,94,260,97);d(259,99,258,100,258,100);d(258,100,256,99,255,99);e(2);a(169,134,56);b();c(216,99);d(216,99,216,97,217,96);d(219,92,219,92,220,93);d(220,93,222,94,224,95);d(226,96,228,98,228,98);d(228,98,226,98,225,98);d(217,99,216,99,216,99);e(2);b();c(236,95);d(235,93,234,92,234,91);d(233,91,257,91,261,92);c(264,92);c(261,95);c(259,97);c(256,96);d(252,94,251,94,249,95);d(249,96,248,96,247,97);d(245,98,245,98,241,98);c(237,98);c(236,95);e(2);b();c(169,97);d(167,97,162,97,160,97);d(153,97,152,96,151,94);c(150,92);c(152,92);d(153,92,154,92,157,93);d(159,94,160,95,161,95);d(161,95,162,94,163,93);c(166,91);c(173,91);d(178,91,180,91,180,91);d(180,92,174,98,174,97);d(174,97,171,97,169,97);e(2);a(200,145,36);b();c(178,89);d(178,88,178,87,178,86);c(179,84);c(179,83);d(178,82,178,82,177,82);d(177,82,177,81,177,81);d(177,81,178,81,179,81);c(181,81);c(182,83);c(183,85);c(182,87);d(181,89,181,89,179,89);d(178,89,178,89,178,89);e(2);b();c(229,87);c(228,85);c(229,83);c(230,81);c(236,81);d(240,81,242,81,243,81);d(243,81,241,82,238,82);c(233,82);c(232,83);c(231,84);c(232,86);d(233,87,233,88,233,89);d(233,89,232,89,231,89);d(230,89,230,89,229,87);e(2);a(135,220,30);b();c(202,56);d(203,40,203,36,203,37);d(204,37,204,36,204,34);d(204,33,204,31,204,31);d(205,30,205,30,205,31);d(206,32,206,37,205,37);d(205,38,204,41,204,50);d(204,60,204,62,203,62);d(203,63,203,63,203,64);d(203,64,203,65,202,65);d(202,65,202,62,202,56);e(2);a(147,248,26);b();c(204,115);d(204,115,204,114,204,114);d(204,113,204,112,204,112);d(203,113,203,112,202,108);d(202,105,202,104,197,95);c(193,85);c(195,80);d(201,68,202,66,202,64);d(202,63,203,62,204,62);d(204,62,204,70,203,72);d(201,80,200,86,200,87);d(200,87,201,91,202,95);d(204,102,204,103,204,107);d(204,110,204,111,205,109);d(205,108,205,106,205,105);d(205,104,205,101,206,100);d(206,98,207,96,207,94);d(207,93,208,90,209,89);d(210,86,210,85,209,81);d(206,73,206,71,206,63);d(206,59,206,52,206,48);d(205,43,206,41,206,41);d(206,41,206,41,206,41);d(207,39,207,49,207,57);c(207,66);c(212,76);c(217,85);c(212,95);c(207,104);c(207,108);d(207,111,206,112,206,113);d(206,113,206,114,206,114);d(206,115,205,116,204,115);e(2);a(239,159,35);b();c(131,86);d(130,84,128,83,128,82);d(128,82,130,82,131,82);d(133,82,133,82,133,83);d(133,83,133,84,134,84);d(134,85,134,86,134,86);c(135,88);c(138,88);d(143,88,157,87,163,87);d(167,86,169,86,171,87);d(172,87,175,87,176,87);d(178,87,179,87,178,89);d(178,89,171,89,157,89);d(145,90,135,90,135,90);d(134,90,134,90,131,86);e(2);b();c(266,90);d(262,90,253,89,246,89);c(233,89);c(232,88);d(232,87,232,87,236,87);d(238,87,242,87,245,87);d(248,87,253,87,255,87);d(257,87,260,88,261,88);d(262,88,264,88,266,88);d(270,88,275,89,275,90);d(275,90,275,90,274,90);d(274,90,270,90,266,90);e(2);a(147,148,145);b();c(388,90);d(376,89,377,89,377,87);d(379,75,381,57,381,56);d(380,56,362,55,362,55);d(362,55,362,60,361,66);d(360,71,360,76,360,76);d(360,76,359,76,357,75);c(355,74);c(352,76);c(350,78);c(346,77);d(343,77,342,77,341,77);d(341,77,341,74,342,68);d(344,48,345,44,345,44);d(345,44,346,44,346,44);d(346,44,345,56,344,66);d(344,70,344,74,344,74);d(344,75,345,75,350,72);d(352,70,355,69,355,69);d(355,69,356,69,357,70);d(357,70,358,70,359,70);d(359,70,359,67,360,61);d(361,57,361,52,362,52);d(362,52,369,52,378,54);c(382,54);c(382,56);d(382,58,382,61,382,64);d(380,78,380,86,380,86);d(380,86,391,87,393,87);d(394,87,394,87,394,86);d(395,79,397,68,398,61);d(398,56,399,54,399,54);d(400,54,400,55,399,62);d(398,67,396,90,396,90);d(396,91,396,91,388,90);e(2);b();c(13,89);d(13,89,13,85,13,81);d(12,77,11,65,10,55);c(8,36);c(10,33);c(12,31);c(11,31);d(10,30,9,30,9,30);d(8,30,8,29,8,29);d(8,28,8,28,9,28);d(9,28,11,29,12,29);d(14,29,15,30,15,30);d(16,31,15,31,14,32);d(13,33,13,34,12,35);d(12,36,12,36,11,36);d(10,36,10,37,10,44);d(10,47,11,51,11,52);d(11,54,14,81,15,85);c(15,87);c(19,86);d(21,86,23,86,23,86);d(23,86,24,84,24,83);d(24,79,23,79,27,80);d(29,80,30,81,30,81);d(30,80,29,71,28,58);d(28,55,28,53,28,53);d(28,53,35,52,42,51);d(49,51,49,51,49,53);d(49,56,49,56,53,58);d(55,59,57,60,57,60);d(57,60,55,61,54,62);c(51,64);c(51,67);d(51,70,52,76,52,76);d(52,76,66,75,66,75);d(66,75,66,73,66,71);d(65,64,65,47,65,48);d(66,48,66,49,66,51);d(66,52,67,58,67,64);d(68,70,68,75,68,76);c(68,77);c(59,78);d(55,78,51,79,50,79);d(50,78,49,64,49,63);d(49,62,49,62,50,62);d(51,61,52,61,52,60);d(52,60,51,60,50,59);c(48,59);c(48,56);d(48,55,48,54,48,54);d(48,53,30,55,30,56);d(29,56,30,60,31,76);c(32,84);c(30,84);d(29,84,28,83,28,83);d(27,83,27,83,27,86);d(27,89,27,89,20,90);d(13,90,14,90,13,89);e(2);b();c(316,68);d(305,67,294,66,292,66);c(288,66);c(288,64);d(288,59,288,58,291,56);d(292,55,293,54,293,54);d(293,54,292,53,291,53);c(289,51);c(289,49);d(289,43,291,22,291,20);d(291,19,291,18,291,18);d(292,18,292,22,291,33);c(291,49);c(294,51);d(296,53,298,54,298,54);d(298,54,296,56,294,57);d(291,60,291,60,291,62);d(291,62,291,63,291,63);d(291,63,296,64,301,64);d(305,64,311,64,313,65);d(316,65,318,65,320,65);d(321,65,325,65,329,66);d(333,66,336,66,336,66);d(336,66,336,64,336,62);d(337,59,338,57,338,60);d(338,64,337,69,337,69);d(336,69,327,68,316,68);e(2);b();c(72,60);d(72,55,71,49,71,47);d(71,44,71,44,72,44);d(72,45,73,45,73,49);d(73,54,74,63,74,65);c(74,66);c(79,66);d(82,66,85,66,86,66);d(88,65,88,65,87,64);d(87,63,86,62,83,60);d(82,59,81,58,81,57);d(81,57,82,56,84,55);c(87,53);c(87,50);c(87,48);c(95,48);d(99,47,103,47,104,47);c(105,47);c(106,50);d(106,51,106,55,106,58);d(107,61,107,64,107,64);d(107,64,120,64,120,64);d(120,64,120,59,119,54);d(119,44,119,44,118,44);d(118,44,117,44,118,43);d(118,43,119,43,119,43);c(121,43);c(121,47);d(121,57,122,66,122,66);d(122,66,106,67,106,67);d(106,67,105,63,105,58);d(105,53,104,49,104,49);d(104,49,101,49,96,50);c(89,50);c(89,53);d(89,55,88,55,87,56);c(86,58);c(87,59);d(89,60,89,60,89,64);d(89,68,89,68,88,68);d(88,68,84,68,80,69);c(72,69);c(72,60);e(2);b();c(277,66);d(273,65,270,65,269,65);c(267,65);c(267,57);d(267,52,267,47,267,46);c(268,43);c(265,43);d(263,43,259,43,256,43);c(251,43);c(251,49);d(251,52,251,57,250,60);c(250,65);c(248,65);d(247,64,246,64,245,63);c(243,61);c(242,63);d(240,64,240,64,237,64);c(234,64);c(234,58);d(234,55,235,42,235,30);d(235,18,236,8,236,7);d(236,7,236,16,236,27);d(236,47,237,59,237,61);d(237,62,238,62,241,59);d(242,58,243,57,243,57);d(243,57,245,58,246,59);d(247,61,249,62,249,62);d(249,62,249,59,249,55);d(249,51,250,47,250,44);c(250,40);c(251,40);d(252,41,256,41,261,41);c(269,41);c(269,52);c(269,62);c(271,62);d(273,62,276,62,278,63);c(281,63);c(282,60);d(283,47,283,42,284,42);d(284,42,284,46,284,51);d(283,62,283,66,283,66);d(283,66,280,66,277,66);e(2);b();c(127,62);d(126,61,126,55,126,49);d(126,40,126,40,126,40);d(127,40,127,40,127,41);d(127,42,127,47,128,52);d(128,56,128,61,128,62);c(128,63);c(134,63);d(138,63,141,62,141,62);d(142,62,143,60,144,58);d(146,56,147,54,147,54);d(148,54,149,56,150,58);c(153,62);c(157,62);d(159,62,164,61,167,61);c(173,61);c(173,44);d(173,34,174,22,174,17);d(174,1,174,8,175,33);d(175,46,176,58,176,60);c(176,64);c(171,64);d(169,64,163,64,159,65);c(151,65);c(149,62);d(148,61,147,60,147,60);d(147,60,146,61,145,62);c(144,65);c(138,65);d(135,65,132,66,130,66);c(127,66);c(127,62);e(2);b();c(180,34);c(180,4);c(181,4);d(181,4,182,4,182,4);d(182,5,182,5,181,5);d(181,5,181,5,181,9);d(181,15,182,53,182,57);c(182,61);c(187,61);d(192,60,192,60,194,56);c(195,55);c(194,54);d(193,53,192,52,191,51);d(190,51,189,50,189,49);d(189,49,190,47,192,45);d(195,39,195,40,195,28);c(196,17);c(205,17);c(214,17);c(214,24);d(214,35,214,47,214,46);d(214,46,213,41,213,32);c(213,19);c(205,19);c(197,19);c(197,31);c(196,44);c(195,46);d(194,47,194,48,194,49);d(194,49,194,49,195,50);d(196,51,196,51,196,57);d(196,60,196,60,195,62);c(194,64);c(187,64);c(180,64);c(180,34);e(2);b();c(215,63);d(215,63,215,62,215,62);d(215,62,215,61,215,61);d(214,61,215,58,215,58);d(215,58,216,59,216,60);d(217,60,217,61,218,61);d(218,61,221,61,223,61);d(226,61,228,61,228,61);d(228,61,228,33,229,19);d(229,12,229,6,229,6);d(229,6,230,19,230,35);c(230,64);c(223,64);d(217,64,216,64,215,63);e(2);b();c(330,46);d(328,46,323,46,317,45);d(309,45,306,44,306,45);d(305,45,305,45,305,44);c(305,42);c(310,42);d(315,42,316,42,316,42);d(317,43,319,43,322,43);d(325,43,328,44,329,44);d(332,44,332,44,332,43);d(332,43,332,42,332,42);d(333,42,333,43,333,44);d(333,45,333,46,332,46);d(332,46,331,46,330,46);e(2);a(215,178,66);b();c(231,79);d(231,78,232,77,233,74);c(235,70);c(236,71);d(237,71,238,71,238,71);d(238,71,237,72,237,74);c(236,76);c(237,76);d(237,77,238,77,238,77);d(238,77,238,78,238,78);d(238,79,238,79,235,79);d(232,79,231,79,231,79);e(2);a(251,182,47);b();c(274,90);d(275,90,269,89,265,89);d(264,89,262,88,261,88);d(257,88,247,87,240,87);c(232,87);c(231,86);c(230,85);c(231,83);c(232,81);c(242,81);d(251,81,274,82,279,82);c(282,83);c(279,86);d(276,90,276,90,275,90);d(274,90,274,90,274,90);e(2);b();c(134,88);d(134,88,134,87,134,86);d(134,86,134,85,133,85);d(133,84,133,84,133,83);c(133,82);c(139,82);d(158,81,177,81,178,81);d(178,81,179,82,179,83);d(180,84,180,84,179,86);c(178,87);c(175,87);d(173,87,170,87,169,87);d(167,87,164,87,162,87);d(160,87,155,88,151,88);d(146,88,140,88,138,89);d(135,89,134,89,134,88);e(2);b();c(116,78);d(114,76,114,75,114,75);d(114,74,115,75,116,77);c(118,78);c(121,78);d(125,78,137,77,147,77);c(156,77);c(159,75);d(161,74,163,74,163,74);d(163,74,165,74,166,75);d(168,76,170,76,172,77);d(174,77,176,77,176,77);d(176,76,177,76,178,76);d(179,76,179,76,180,78);c(180,79);c(174,79);d(167,79,167,79,165,78);c(163,77);c(160,78);d(157,79,157,79,140,80);d(136,80,131,80,127,80);d(123,80,119,80,119,81);d(118,81,117,80,116,78);e(2);b();c(264,80);d(259,79,251,79,247,79);d(242,79,238,79,238,78);d(238,78,237,78,237,77);d(237,77,239,77,256,77);d(267,77,276,77,277,77);d(279,78,280,78,280,79);d(280,80,279,80,264,80);e(2);a(233,207,56);b();c(184,98);d(183,98,183,98,182,98);d(182,98,182,98,182,98);d(182,98,183,95,185,92);c(188,86);c(191,92);d(192,95,193,98,193,98);d(194,98,192,98,189,98);d(187,98,184,98,184,98);e(2);b();c(172,77);d(170,77,168,76,167,76);c(166,75);c(167,75);d(168,74,169,74,173,74);c(178,74);c(178,75);d(179,77,179,77,178,77);d(177,77,176,77,176,77);d(176,77,176,77,175,77);d(175,77,174,77,172,77);e(2);a(244,200,55);b();c(224,96);d(222,95,220,94,220,93);c(219,93);c(220,89);c(222,86);c(224,91);d(226,94,227,97,228,97);d(228,97,228,98,228,98);d(227,98,226,97,224,96);e(2);b();c(220,80);d(218,77,218,77,219,76);d(220,75,226,71,227,72);d(227,72,227,73,225,78);c(222,84);c(220,80);e(2);b();c(287,80);d(284,80,281,80,280,80);d(279,80,279,80,280,80);d(280,79,280,79,279,79);d(279,78,278,78,278,78);d(277,78,278,77,279,75);d(280,75,282,74,283,74);c(285,74);c(283,74);d(282,74,280,74,278,74);d(277,74,276,74,275,74);d(274,74,273,74,268,76);d(266,77,265,77,262,75);d(260,74,259,74,258,74);d(257,74,254,73,254,72);d(254,71,254,71,256,71);d(259,71,261,71,264,73);c(266,74);c(269,73);c(271,71);c(283,72);d(290,72,296,73,296,73);c(298,73);c(295,77);d(293,79,292,81,292,81);d(292,81,289,80,287,80);e(2);b();c(291,76);d(292,75,292,74,290,74);d(289,74,287,74,287,74);d(286,74,286,74,287,75);d(288,76,289,76,291,76);e(2);a(182);b();c(345,49);d(346,45,345,44,345,44);d(345,44,345,41,346,31);d(347,25,347,19,348,19);d(348,18,348,22,347,30);d(347,33,347,37,347,40);c(346,43);c(349,44);d(352,44,353,44,351,46);d(350,47,350,48,350,48);d(350,49,349,50,348,51);d(347,52,346,53,345,53);d(345,53,345,51,345,49);e(2);b();c(72,45);d(71,44,70,26,71,26);d(71,26,73,45,72,45);d(72,45,72,45,72,45);e(2);b();c(103,32);d(103,31,103,29,103,26);c(103,22);c(100,22);c(98,22);c(96,20);d(96,19,95,18,95,18);d(95,18,94,19,94,21);c(92,23);c(90,23);d(88,23,87,23,86,23);d(86,24,86,23,86,23);d(86,22,87,21,89,21);d(90,21,90,21,92,17);d(94,15,95,14,95,14);d(96,14,97,15,99,19);d(100,20,100,20,102,20);c(103,20);c(104,24);d(104,26,104,29,104,31);d(104,33,104,34,103,32);e(2);b();c(384,29);c(384,27);c(375,26);d(368,26,366,26,365,26);d(365,26,365,26,365,25);d(365,23,367,22,369,23);d(369,24,372,24,374,24);d(377,25,380,25,382,25);c(385,26);c(385,28);d(385,30,384,31,384,31);d(384,31,384,30,384,29);e(2);b();c(272,28);d(272,27,273,27,278,27);d(281,27,283,27,283,27);d(283,27,283,23,284,19);d(284,14,284,10,284,9);d(284,9,285,8,285,8);d(285,8,285,15,284,25);c(284,29);c(278,29);d(273,29,272,28,272,28);e(2);b();c(332,24);d(328,23,328,23,326,21);c(323,20);c(322,21);c(320,23);c(314,22);d(311,22,308,22,308,22);d(307,22,307,22,307,21);c(307,20);c(312,20);c(317,21);c(320,18);d(321,17,322,16,323,16);d(323,16,325,17,327,19);c(331,21);c(335,22);c(339,22);c(339,18);d(340,15,340,14,340,14);d(341,14,340,22,340,23);d(340,24,340,24,332,24);e(2);b();c(392,18);d(390,16,388,13,388,13);d(388,13,389,13,390,13);d(391,13,391,13,393,16);c(396,19);c(398,17);d(400,14,401,14,402,14);d(404,14,404,14,403,16);d(402,16,400,18,399,20);d(397,22,396,23,396,23);d(395,23,393,21,392,18);e(2);b();c(78,12);d(76,10,74,9,73,9);d(72,9,73,8,75,8);d(76,8,77,9,78,9);d(79,10,80,11,81,11);c(82,12);c(83,10);d(84,8,85,8,85,8);d(86,8,86,8,86,8);d(86,9,83,15,82,15);d(82,15,80,13,78,12);e(2);b();c(206,10);d(206,9,204,8,202,7);d(201,6,199,5,199,4);d(199,4,200,4,201,4);d(202,4,203,4,205,6);c(207,8);c(210,6);d(212,4,212,4,214,4);d(216,4,216,4,210,9);d(208,10,207,11,206,10);e(2);a(185,249,115);b();c(204,111);d(204,111,204,109,204,107);d(204,104,204,102,203,100);d(202,97,201,93,200,91);c(199,85);c(201,80);d(201,77,202,73,203,72);d(203,70,204,68,204,65);d(203,57,204,38,204,37);d(205,37,205,36,205,37);d(206,37,206,50,207,62);d(207,71,207,72,209,81);d(210,86,210,87,209,90);d(208,91,208,93,207,96);d(207,97,207,99,206,100);d(206,102,205,105,205,107);d(205,110,205,112,205,112);d(205,113,204,112,204,111);e(2);b();c(206,91);c(207,87);c(206,79);d(206,75,205,72,205,72);d(204,71,203,80,203,85);d(203,89,204,94,205,96);d(205,97,205,97,206,91);e(2);a(245,224,89);b();c(185,78);d(184,75,182,73,182,73);d(182,72,184,72,186,74);d(187,74,189,75,190,76);c(192,77);c(190,80);d(189,82,188,84,188,84);d(188,84,187,81,185,78);e(2);b();c(115,76);c(112,73);c(114,73);d(120,72,169,70,175,71);d(176,71,176,71,177,72);c(178,74);c(175,74);d(173,74,171,74,171,74);d(169,74,169,74,168,75);c(167,76);c(165,75);c(163,74);c(159,75);c(156,77);c(147,77);d(139,78,127,78,121,79);c(117,79);c(115,76);e(2);b();c(276,78);d(276,78,267,77,256,77);d(246,77,237,77,236,77);c(235,77);c(236,74);c(237,71);c(245,71);d(252,71,254,71,254,72);d(254,72,257,73,259,73);d(260,73,260,73,263,75);d(266,76,266,77,268,76);d(268,75,270,75,271,74);d(274,73,275,73,276,74);d(276,74,277,74,279,74);d(283,73,292,74,292,75);d(292,75,294,75,295,74);d(295,73,296,73,297,73);d(298,73,298,73,297,73);d(297,74,296,74,295,75);d(294,76,293,76,291,76);d(288,76,288,76,287,75);d(286,75,285,74,284,74);d(282,74,279,76,278,77);d(278,78,276,78,276,78);e(2);b();c(217,75);d(217,74,216,72,216,72);c(215,71);c(220,71);d(222,71,225,71,225,71);d(226,71,226,71,227,71);d(228,72,227,72,226,72);d(224,73,220,76,219,77);d(218,77,218,77,217,75);e(2);a(198,206,186);b();c(218,61);d(217,61,216,61,215,59);d(214,58,214,58,214,48);c(214,38);c(217,38);c(220,38);c(220,45);d(220,52,220,55,221,56);d(222,56,223,58,223,58);d(223,59,223,59,224,60);d(224,60,224,61,224,61);d(224,61,219,61,218,61);e(2);b();c(190,58);d(190,57,190,55,190,53);c(190,50);c(193,52);d(196,54,196,55,194,58);d(193,60,192,61,191,61);d(191,61,190,61,190,58);e(2);b();c(190,46);d(189,45,189,45,190,45);d(190,45,190,44,191,43);d(191,39,196,35,196,38);d(196,39,195,40,195,40);d(194,42,191,47,190,47);d(190,47,190,47,190,46);e(2);a(203);b();c(385,87);d(382,87,380,86,380,86);d(379,86,380,76,381,63);d(381,60,382,57,382,56);c(382,54);c(378,54);d(369,53,362,52,362,53);d(362,53,361,57,361,62);d(360,67,359,71,359,71);d(359,71,358,71,357,70);c(355,69);c(350,72);d(346,75,345,76,344,75);d(343,75,343,73,344,69);d(344,66,344,61,345,58);c(345,53);c(347,51);d(348,50,349,49,349,48);d(349,47,350,46,350,46);d(351,45,351,44,351,44);d(351,44,353,44,357,44);d(358,45,365,45,372,46);d(379,47,386,47,387,47);c(388,48);c(388,50);d(388,51,388,52,388,52);d(388,52,399,53,399,54);d(399,54,396,79,395,86);c(395,88);c(392,87);d(391,87,388,87,385,87);e(2);b();c(15,87);d(14,87,14,86,14,85);d(14,84,14,77,13,68);d(11,57,11,52,11,52);d(12,51,26,49,32,49);d(34,49,36,48,38,48);d(40,48,43,47,46,47);d(49,47,52,46,52,46);d(53,46,53,46,53,47);d(53,48,53,48,54,48);d(57,47,63,47,64,47);c(65,47);c(66,56);d(66,61,66,68,66,70);d(67,73,67,75,67,75);d(66,75,52,77,52,76);d(52,76,51,73,50,67);c(50,64);c(53,62);d(57,60,57,60,52,58);d(49,56,49,56,49,54);d(49,51,49,51,43,52);d(35,53,29,53,29,54);d(28,54,29,56,29,58);d(30,71,30,81,30,81);d(30,81,29,81,27,81);d(26,80,24,80,24,80);d(24,80,24,81,24,83);d(24,85,24,86,23,86);d(22,87,15,87,15,87);e(2);b();c(74,65);d(74,65,73,63,73,61);d(73,59,73,56,73,54);d(73,51,72,49,72,47);c(72,44);c(77,44);d(84,43,103,41,107,41);d(109,41,109,41,109,42);c(109,44);c(114,44);c(119,43);c(120,54);d(120,59,120,64,120,64);d(120,64,117,64,113,64);c(107,65);c(106,62);d(106,60,106,57,106,54);d(105,50,105,48,105,48);d(105,47,101,48,96,48);c(88,48);c(88,51);c(87,53);c(85,55);d(83,56,82,57,82,57);d(82,58,82,58,83,59);d(87,61,88,63,88,64);c(88,66);c(86,66);d(85,66,82,66,79,67);c(74,67);c(74,65);e(2);b();c(326,66);d(321,65,315,65,300,64);d(296,64,291,64,291,64);d(290,64,290,63,290,62);d(291,60,291,60,294,57);c(298,54);c(294,52);c(291,49);c(291,44);c(291,39);c(293,40);d(297,40,305,41,313,41);d(333,42,332,42,332,44);d(332,44,332,44,329,44);d(328,44,324,44,321,44);d(318,43,316,43,316,43);d(315,42,315,42,313,43);d(312,43,309,43,308,43);c(306,43);c(305,47);d(305,50,305,52,305,52);d(305,52,311,52,319,53);d(339,54,338,54,338,55);d(338,56,338,58,337,59);d(337,61,337,63,337,64);c(336,66);c(333,66);d(332,66,329,66,326,66);e(2);b();c(128,63);d(128,61,127,41,127,40);d(126,40,127,40,131,39);d(134,39,138,39,139,39);c(142,39);c(142,41);d(142,42,142,44,142,46);c(142,50);c(148,50);d(151,50,155,50,156,50);c(159,49);c(159,43);d(159,40,159,37,159,37);d(159,37,159,37,159,38);d(159,38,161,38,166,38);c(174,38);c(174,40);d(174,41,174,47,174,52);c(174,61);c(168,62);d(165,62,160,62,157,62);c(152,62);c(150,59);d(149,56,147,55,147,55);d(147,55,146,56,145,59);d(143,61,142,63,142,63);d(141,63,138,63,134,63);c(128,64);c(128,63);e(2);b();c(272,63);c(268,63);c(268,52);c(268,42);c(260,41);d(256,41,252,41,251,41);c(250,41);c(250,45);d(250,47,250,52,250,55);d(249,63,249,63,246,60);c(243,57);c(241,60);d(239,62,239,62,238,62);c(236,62);c(236,50);c(236,38);c(243,38);d(252,38,283,39,284,40);d(284,40,284,44,283,48);d(283,53,282,58,282,60);c(282,63);c(279,63);d(278,63,275,63,272,63);e(2);b();c(182,58);d(182,56,181,51,181,46);c(181,38);c(187,37);d(190,37,193,37,194,37);d(194,38,194,38,193,39);d(192,41,191,42,191,43);d(191,44,191,45,190,45);d(190,45,190,45,190,46);d(191,47,191,47,190,48);d(190,49,190,49,190,50);d(190,50,191,52,191,56);d(191,58,191,61,191,61);d(191,61,189,61,186,61);c(182,61);c(182,58);e(2);b();c(224,60);d(223,60,222,59,222,59);d(222,58,221,56,221,56);d(220,56,220,56,220,55);d(220,55,220,54,220,54);d(220,53,219,50,220,42);c(220,38);c(224,38);c(229,38);c(228,49);d(228,55,228,60,228,61);d(228,62,225,62,224,60);e(2);a(216,252,178);b();c(204,96);d(202,86,202,83,203,76);d(204,69,205,69,206,75);d(206,76,207,79,207,82);c(208,87);c(207,91);d(206,93,205,96,205,97);d(205,98,205,98,205,98);d(205,98,204,97,204,96);e(2);a(232,250,202);b();c(188,75);d(186,74,184,73,183,73);d(183,73,182,72,182,72);d(182,72,183,72,185,72);d(186,72,189,71,191,71);d(193,71,194,71,194,71);d(194,71,191,77,191,77);d(191,77,189,76,188,75);e(2);a(242);b();c(11,52);d(10,51,10,48,10,44);d(9,37,9,37,10,36);d(10,36,11,36,11,36);d(11,36,12,35,12,35);d(12,34,13,33,14,32);d(15,31,15,30,15,30);d(15,30,14,30,12,30);d(10,29,8,28,8,28);d(8,28,8,25,7,21);d(7,16,7,14,7,14);d(8,14,22,12,24,12);d(25,12,25,11,27,28);d(27,35,28,41,28,41);d(28,41,46,39,47,39);d(47,39,46,32,46,25);d(45,17,44,11,44,10);d(45,10,63,9,63,9);d(63,9,65,36,65,37);d(65,37,62,37,59,37);d(55,38,53,38,52,38);d(52,38,52,40,53,42);d(53,44,53,46,53,46);d(53,47,50,47,47,47);d(44,48,40,48,38,49);d(37,49,34,49,33,49);d(28,50,18,51,14,52);d(12,52,11,52,11,52);d(11,52,11,52,11,52);e(2);b();c(386,48);d(386,48,385,48,383,47);d(379,47,370,46,356,45);d(354,45,351,44,349,44);c(346,44);c(346,40);d(346,37,347,33,347,29);d(347,26,348,22,348,20);d(348,16,348,9,349,9);d(349,9,358,10,369,11);d(380,12,389,13,389,13);d(389,13,390,15,392,18);d(394,20,395,23,396,23);d(396,23,397,21,399,19);d(402,15,403,14,404,14);d(404,14,403,21,402,29);d(401,36,401,43,401,44);d(401,45,401,46,400,46);d(400,46,398,46,395,45);d(388,45,388,45,388,47);d(388,48,388,48,387,48);d(387,48,386,48,386,48);e(2);a(0,0,0);b();c(382,43);d(382,42,384,31,384,30);d(384,30,384,29,384,28);c(385,26);c(382,26);d(380,25,376,25,374,25);d(371,24,369,24,368,24);d(367,23,367,23,366,24);d(365,24,365,25,365,26);d(365,27,365,31,364,35);d(364,39,364,42,364,42);d(364,42,367,42,371,43);d(379,43,382,44,382,43);e(2);a(242);b();c(72,44);d(72,43,72,39,71,34);d(71,29,70,23,70,20);d(70,18,69,14,69,12);c(69,9);c(72,9);d(74,9,74,9,78,11);d(80,13,82,14,82,14);d(82,14,83,13,84,11);c(86,8);c(89,8);d(90,8,96,7,102,7);d(108,7,114,6,115,6);c(118,6);c(118,9);d(119,10,119,15,119,20);d(119,24,120,29,120,31);d(120,35,120,35,115,35);d(114,35,112,35,110,35);c(108,36);c(109,39);c(109,42);c(107,42);d(103,42,80,44,76,44);d(72,45,72,45,72,44);e(2);a(0,0,0);b();c(104,34);d(104,33,104,30,103,26);c(103,21);c(101,21);d(99,21,99,21,99,19);d(97,16,95,14,95,14);d(95,14,94,16,93,18);c(91,21);c(89,22);d(88,22,87,22,86,22);d(86,22,87,36,87,37);d(87,37,90,37,95,36);c(103,36);c(104,34);e(2);a(242);b();c(329,43);d(327,43,323,42,319,42);d(304,41,300,41,296,40);d(293,40,291,40,291,40);d(291,40,291,8,292,7);d(292,6,292,6,304,7);d(309,7,319,7,327,8);d(335,8,341,9,341,9);d(341,9,341,12,340,16);c(339,22);c(335,22);c(331,22);c(327,19);c(323,17);c(320,19);c(318,21);c(312,21);c(307,21);c(307,25);d(307,27,307,29,307,29);d(307,29,331,31,333,31);d(334,31,334,32,333,36);d(333,42,333,43,332,43);d(332,43,330,43,329,43);e(2);b();c(126,35);d(125,25,125,6,125,6);d(125,5,129,5,133,5);c(141,5);c(141,14);d(141,19,142,27,142,31);c(142,39);c(140,39);d(138,39,135,40,132,40);c(126,40);c(126,35);e(2);b();c(268,39);d(260,39,249,38,245,38);d(238,38,236,38,236,38);d(236,36,236,4,236,4);d(236,4,240,4,244,4);c(252,4);c(252,16);c(252,27);c(255,27);d(257,27,261,28,263,28);c(268,28);c(268,20);d(268,15,268,10,269,8);c(269,5);c(275,5);d(278,5,282,5,283,5);c(285,6);c(285,8);d(285,10,284,26,284,27);d(284,27,281,28,278,27);c(273,27);c(273,32);d(273,34,273,36,273,36);d(273,36,275,37,278,37);d(281,37,284,37,284,37);d(284,38,284,40,284,40);d(283,40,277,39,268,39);e(2);b();c(159,37);d(158,36,157,5,158,4);d(158,4,161,4,166,4);c(174,4);c(174,21);c(174,38);c(172,38);d(171,38,168,38,164,38);d(159,38,159,38,159,37);e(2);b();c(181,34);d(181,32,181,24,180,17);c(180,4);c(181,4);d(182,4,186,4,191,4);c(199,4);c(202,6);d(204,7,206,9,207,9);c(207,10);c(210,8);d(211,7,213,6,214,5);c(215,4);c(222,4);c(230,4);c(229,6);d(229,7,229,15,229,23);c(229,38);c(221,38);c(214,38);c(214,33);d(214,30,214,28,214,27);d(214,27,214,24,214,22);c(214,17);c(205,17);c(196,17);c(196,27);d(196,33,195,37,195,37);d(195,38,192,38,188,38);c(181,38);c(181,34);e(2);
  pop();
}


var fp = false;
var legMove = 0;
var legWidth = 45;

function draw() {
  msLag = ms;
  ms = millis();
  realFrameRate = round(1000/(ms-msLag));
  
  gfx.resetMatrix();
  gfx._renderer._update();

  if(!crateIMG && typeof crateIMG !== "string"){
    crateIMG = imagify(crateIMG);
  }
  if(!dirt_1IMG && typeof dirt_1IMG !== "string"){
    dirt_1IMG = imagify(dirt_1IMG);
  }
  if(!grass_1IMG && typeof grass_1IMG !== "string"){
    grass_1IMG = imagify(grass_1IMG);
  }
  if(!wood_1IMG && typeof wood_1IMG !== "string"){
    wood_1IMG = imagify(wood_1IMG);
  }
  
  move();
  if(!fly){collisions();}

  gfx.background(255, 255, 255);

  gfx.ambientLight(255, 255, 255);

  gfx.camera(0, 0, 0, 0, 0, -1, 0, 1, 0);
  
  //the first value changes FOV, last is render distance
  gfx.perspective(80, width / height, 0.01, 10000);

  gfx.push();

  
    //comment this out for first person
    if(!fp){
      gfx.translate(0, 25, -350);
    }

    //keycode T
    if(keys[84]){
      if(fp){
        fp = false;
      }else{
        fp = true;
      }
      keys[84] = false;
    }
    if(keys[70]){
        if(fly){
            fly = false;
        }else{
            fly = true;
        }
        keys[70] = false;
    }


    gfx.rotateX(180 + tempRotX);
  	gfx.rotateY(tempRotY);
    gfx.translate(-player.x, -player.y - 75, -player.z);

    gfx.push();
      // x axis
      gfx.translate(400, 0, 0);
      gfx.fill(255, 0, 0);
      gfx.box(1000, 5, 5);
    gfx.pop();
    gfx.push();
      // y axis
      gfx.translate(0, 400, 0);
      gfx.fill(0, 255, 0);
      gfx.box(5, 1000, 5);
    gfx.pop();
    gfx.push();
      // z axis
      gfx.translate(0, 0, 400);
      gfx.fill(0, 0, 255);
      gfx.box(5, 5, 1000);
    gfx.pop();

    for(var i = 0; i < world.length; i++){
      gfx.push();
        gfx.translate(world[i].x, world[i].y, world[i].z);
        if(world[i].t === 1){
          gfx.texture(crateIMG);
        }else if(world[i].t === 2){
          gfx.texture(dirt_1IMG);
        }else if(world[i].t === 3){
          gfx.texture(grass_1IMG);
        }else if(world[i].t === 4){
          gfx.texture(wood_1IMG);
        }
        
        gfx.box(world[i].w, world[i].h, world[i].l);
      gfx.pop();
    }
    
    
    
    if(keys[87] || keys[83]){
        legMove += ((abs(player.xVel) / (40 / realFrameRate) + abs(player.zVel) / (40 / realFrameRate)) / 5) * (40 / realFrameRate);
        legWidth = 45;
        if(legMove >= 90){legMove = -90;}
    }else{ 
        legWidth *= 0.9;
        if(legWidth <= 3) {
          legWidth = 0;
          legMove = 0;
        }
    }

    if(!fp){
        drawPlayer(player.x, player.y, player.z, 0.37, -tempRotY, sin(legMove * 2) * legWidth);
    }

  gfx.pop();

  // draw the 3D graphics
  image(gfx, 0, 0, width, height);

  drawKrunkerLogo(width / 2, 25, 1);

  fill(0, 0, 0);
  if(frameCountTimer <= 0) {
    displayFrameRate = realFrameRate;
    frameCountTimer = 60;
  } else {
    frameCountTimer -= 40 / realFrameRate;
  }
  
  text("FPS: " + floor(displayFrameRate), 10, 15);

  if(fly){
      text("You Are Flying", 10, 25);
  }

    if(player.y < -1000){
        player.x = 1000
        player.y = 1000
        player.z = 0
    }

}

function mouseClicked(){
    requestPointerLock();
}

function mouseMoved(){
    // rotate camera
    tempRotX -= round(movedY);
    tempRotY -= round(movedX);

    if(tempRotX < -90 && !fp){
        tempRotX = -90;
    }

    if(tempRotX > 90 && !fp){
        tempRotX = 90;
    }

    if(tempRotX < -95 && fp){
        tempRotX = -95;
    }

    if(tempRotX > 95 && fp){
        tempRotX = 95;
    }
}
